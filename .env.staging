# =============================================================================
# Staging Environment Configuration
# =============================================================================
# This file is for staging environment only

# =============================================================================
# BITBUCKET CONFIGURATION
# =============================================================================

# Staging Bitbucket credentials
ATLASSIAN_SITE_NAME=staging-company
ATLASSIAN_USER_EMAIL=staging@staging-company.com
ATLASSIAN_API_TOKEN=staging_token

# Staging Bitbucket Server (Alternative)
# BITBUCKET_USERNAME=staging@staging-company.com
# BITBUCKET_API_TOKEN=staging_token
# BITBUCKET_BASE_URL=https://staging-bitbucket.staging-company.com

# =============================================================================
# STAGING CONFIGURATION
# =============================================================================

# Staging environment
NODE_ENV=staging

# Staging transport mode
TRANSPORT_MODE=http

# Staging port
PORT=3000

# Disable debug in staging
DEBUG=false

# =============================================================================
# API CONFIGURATION
# =============================================================================

# Staging API settings
API_TIMEOUT=25000
API_MAX_RETRIES=3
API_RATE_LIMIT=500
API_RATE_LIMIT_WINDOW=900000

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable staging features
ENABLE_ISSUES=true
ENABLE_PIPELINES=true
ENABLE_WEBHOOKS=true
ENABLE_PROJECTS=true
ENABLE_ADVANCED_SEARCH=true

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# Staging caching
ENABLE_CACHING=true
CACHE_TTL=180000
CACHE_MAX_SIZE=500

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Staging security settings
CORS_ORIGIN=https://staging.yourdomain.com
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX=200
RATE_LIMIT_WINDOW=900000

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Staging logging
LOG_LEVEL=info
LOG_FORMAT=json

# Staging logging settings
ENABLE_REQUEST_LOGGING=true
ENABLE_RESPONSE_LOGGING=false

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Staging performance settings
ENABLE_CONNECTION_POOLING=true
CONNECTION_POOL_SIZE=15
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=5

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Staging monitoring
ENABLE_HEALTH_CHECKS=true
HEALTH_CHECK_INTERVAL=30000
ENABLE_METRICS=true
METRICS_PORT=9090

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Staging deployment settings
CLUSTER_MODE=true
WORKER_PROCESSES=2
GRACEFUL_SHUTDOWN_TIMEOUT=30000

# =============================================================================
# SCALING CONFIGURATION
# =============================================================================

# Staging scaling
LOAD_BALANCER_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_TIMEOUT=5000

# =============================================================================
# TESTING
# =============================================================================

# Staging testing
TEST_ENABLED=true
INTEGRATION_TESTS_ENABLED=true
E2E_TESTS_ENABLED=true

# Test timeouts
TEST_TIMEOUT=45000
INTEGRATION_TEST_TIMEOUT=90000
E2E_TEST_TIMEOUT=180000

# =============================================================================
# DATA
# =============================================================================

# Staging data
STAGING_WORKSPACE_SLUG=staging-workspace
STAGING_REPO_SLUG=staging-repo
STAGING_USER_EMAIL=staging@example.com

# Data retention
DATA_RETENTION_DAYS=30
BACKUP_ENABLED=true
BACKUP_INTERVAL=86400000

# =============================================================================
# ALERTING
# =============================================================================

# Staging alerting
ALERTING_ENABLED=true
ALERT_EMAIL=staging-alerts@yourdomain.com
ALERT_WEBHOOK=https://staging.yourdomain.com/alerts

# Alert thresholds
ALERT_ERROR_THRESHOLD=5
ALERT_RESPONSE_TIME_THRESHOLD=5000

# =============================================================================
# COMPLIANCE
# =============================================================================

# Staging compliance
AUDIT_LOGGING_ENABLED=true
DATA_RETENTION_DAYS=30
PRIVACY_MODE_ENABLED=true

# =============================================================================
# INTEGRATION
# =============================================================================

# Staging integrations
SLACK_WEBHOOK=https://hooks.slack.com/services/staging
TEAMS_WEBHOOK=https://staging.webhook.office.com/webhook

# External services
EXTERNAL_API_URL=https://staging-api.yourdomain.com
EXTERNAL_API_TIMEOUT=10000

# =============================================================================
# MONITORING
# =============================================================================

# Staging monitoring
MONITORING_ENABLED=true
METRICS_COLLECTION_INTERVAL=30000
HEALTH_CHECK_ENDPOINTS=/health,/mcp

# Performance monitoring
PERFORMANCE_MONITORING_ENABLED=true
SLOW_QUERY_THRESHOLD=1000
ERROR_RATE_THRESHOLD=0.05