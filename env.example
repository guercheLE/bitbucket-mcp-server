# Bitbucket MCP Server Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# BITBUCKET CONFIGURATION
# =============================================================================

# Bitbucket Server/Data Center Configuration
BITBUCKET_USERNAME=your_username
BITBUCKET_APP_PASSWORD=your_app_password
BITBUCKET_API_TOKEN=your_api_token
BITBUCKET_BASE_URL=https://bitbucket.yourcompany.com
BITBUCKET_WORKSPACE=your_workspace

# =============================================================================
# ATLASSIAN CLOUD CONFIGURATION (Alternative to Bitbucket Server)
# =============================================================================

# Atlassian Cloud Configuration
ATLASSIAN_SITE_NAME=your-site.atlassian.net
ATLASSIAN_USER_EMAIL=your_email@company.com
ATLASSIAN_API_TOKEN=your_atlassian_api_token

# =============================================================================
# REPOSITORY ACCESS TOKENS (Granular Access)
# =============================================================================

# Repository-specific access token
REPOSITORY_ACCESS_TOKEN=your_repository_token
REPOSITORY_SLUG=your_repository
REPOSITORY_WORKSPACE=your_workspace

# =============================================================================
# PROJECT ACCESS TOKENS (Granular Access)
# =============================================================================

# Project-specific access token
PROJECT_ACCESS_TOKEN=your_project_token
PROJECT_KEY=PROJ
PROJECT_WORKSPACE=your_workspace

# =============================================================================
# WORKSPACE ACCESS TOKENS (Granular Access)
# =============================================================================

# Workspace-specific access token
WORKSPACE_ACCESS_TOKEN=your_workspace_token
WORKSPACE_SLUG=your_workspace

# =============================================================================
# OAUTH 2.0 CONFIGURATION
# =============================================================================

# OAuth 2.0 Configuration
OAUTH_CLIENT_ID=your_oauth_client_id
OAUTH_CLIENT_SECRET=your_oauth_client_secret
OAUTH_REDIRECT_URI=http://localhost:3000/oauth/callback
OAUTH_ACCESS_TOKEN=your_oauth_access_token
OAUTH_REFRESH_TOKEN=your_oauth_refresh_token
OAUTH_TOKEN_EXPIRES_AT=2024-12-31T23:59:59Z

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Transport mode: 'stdio' (default) or 'http'
TRANSPORT_MODE=stdio

# HTTP server port (only used when TRANSPORT_MODE=http)
PORT=3000

# Debug mode: 'true' or 'false' (default: false)
# When false, only INFO, WARN, and ERROR messages are shown
# When true, DEBUG messages are also shown
DEBUG=false

# =============================================================================
# API CONFIGURATION
# =============================================================================

# API timeout in milliseconds
API_TIMEOUT=30000

# Maximum number of API retries
API_MAX_RETRIES=3

# API rate limit (requests per second)
API_RATE_LIMIT=1000

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable specific features
ENABLE_ISSUES=true
ENABLE_PIPELINES=true
ENABLE_WEBHOOKS=true
ENABLE_PROJECTS=true

# =============================================================================
# CLOUD TOOLS CONTROL
# =============================================================================

# Core Cloud Tools (Most Important)
CLOUD_CORE_AUTH=true
CLOUD_CORE_REPOSITORY=true
CLOUD_CORE_PULL_REQUEST=true
CLOUD_CORE_COMMIT=true
CLOUD_CORE_PROJECT=true
CLOUD_CORE_WORKSPACE=true

# Secondary Cloud Tools (Medium Importance)
CLOUD_SECONDARY_USER=true
CLOUD_SECONDARY_SEARCH=true
CLOUD_SECONDARY_ISSUE=true
CLOUD_SECONDARY_DIFF=true
CLOUD_SECONDARY_PIPELINE=true
CLOUD_SECONDARY_BRANCH_RESTRICTION=true

# Advanced Cloud Tools (Least Important)
CLOUD_ADVANCED_WEBHOOK=true
CLOUD_ADVANCED_OAUTH=true
CLOUD_ADVANCED_SSH=true
CLOUD_ADVANCED_SOURCE=true
CLOUD_ADVANCED_REF=true
CLOUD_ADVANCED_SNIPPET=true
CLOUD_ADVANCED_TOKEN_MANAGEMENT=true
CLOUD_ADVANCED_SCOPE_VALIDATOR=true

# =============================================================================
# DATACENTER TOOLS CONTROL
# =============================================================================

# Core Data Center Tools (Most Important)
DATACENTER_CORE_AUTH=true
DATACENTER_CORE_REPOSITORY=true
DATACENTER_CORE_PULL_REQUEST=true
DATACENTER_CORE_PROJECT=true
DATACENTER_CORE_SEARCH=true
DATACENTER_CORE_DASHBOARD=true

# Secondary Data Center Tools (Medium Importance)
DATACENTER_SECONDARY_SECURITY=true
DATACENTER_SECONDARY_PERMISSION_MANAGEMENT=true
DATACENTER_SECONDARY_BUILDS=true
DATACENTER_SECONDARY_CAPABILITIES=true
DATACENTER_SECONDARY_JIRA_INTEGRATION=true
DATACENTER_SECONDARY_SAML_CONFIGURATION=true

# Advanced Data Center Tools (Least Important)
DATACENTER_ADVANCED_MARKUP=true
DATACENTER_ADVANCED_MIRRORING=true
DATACENTER_ADVANCED_OTHER_OPERATIONS=true
DATACENTER_ADVANCED_ROLLING_UPGRADES=true
DATACENTER_ADVANCED_SYSTEM_MAINTENANCE=true
DATACENTER_ADVANCED_DEPRECATED=true

# =============================================================================
# NOTES
# =============================================================================

# 1. Only one authentication method is required:
#    - Bitbucket Server: BITBUCKET_USERNAME + BITBUCKET_APP_PASSWORD or BITBUCKET_API_TOKEN
#    - Atlassian Cloud: ATLASSIAN_USER_EMAIL + ATLASSIAN_API_TOKEN
#    - OAuth 2.0: OAUTH_CLIENT_ID + OAUTH_CLIENT_SECRET
#    - Granular tokens: Use specific access tokens for limited scope

# 2. DEBUG mode controls logging verbosity:
#    - false: Only INFO, WARN, ERROR messages
#    - true: All messages including DEBUG

# 3. TRANSPORT_MODE determines how the MCP server communicates:
#    - stdio: Standard input/output (default, for MCP clients)
#    - http: HTTP server (for web integration)

# 4. TOOL SELECTION:
#    - All tools are enabled by default (true)
#    - Set to 'false' to disable specific tools
#    - Cloud tools use CLOUD_ prefix
#    - Data Center tools use DATACENTER_ prefix
#    - Tools are organized by importance: CORE > SECONDARY > ADVANCED
#    - Example: CLOUD_CORE_AUTH=false disables Cloud Authentication tools
#    - Example: DATACENTER_ADVANCED_DEPRECATED=false disables deprecated Data Center tools
