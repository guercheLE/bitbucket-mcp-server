# =============================================================================
# Bitbucket MCP Server Configuration
# =============================================================================
# Copy this file to .env and fill in your values

# =============================================================================
# BITBUCKET CONFIGURATION
# =============================================================================

# Choose ONE authentication method:

# Method 1: Bitbucket Cloud (Atlassian) - RECOMMENDED
ATLASSIAN_SITE_NAME=your-company
ATLASSIAN_USER_EMAIL=your.email@company.com
ATLASSIAN_API_TOKEN=your_api_token

# Method 2: Bitbucket Server (On-premises)
# BITBUCKET_USERNAME=your.email@company.com
# BITBUCKET_API_TOKEN=your_http_access_token
# BITBUCKET_BASE_URL=https://bitbucket.yourcompany.com

# Method 3: Bitbucket Cloud (App Password) - Alternative
# BITBUCKET_USERNAME=your_username
# BITBUCKET_APP_PASSWORD=your_app_password

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Transport mode: stdio (default) or http
TRANSPORT_MODE=stdio

# HTTP server port (only used when TRANSPORT_MODE=http)
PORT=3000

# Debug mode: true or false
DEBUG=false

# Node environment
NODE_ENV=development

# =============================================================================
# API CONFIGURATION
# =============================================================================

# API request timeout in milliseconds
API_TIMEOUT=30000

# Maximum number of API retries
API_MAX_RETRIES=3

# API rate limit (requests per window)
API_RATE_LIMIT=1000

# API rate limit window in milliseconds
API_RATE_LIMIT_WINDOW=900000

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable issue tracking system
ENABLE_ISSUES=true

# Enable pipeline management
ENABLE_PIPELINES=true

# Enable webhook configuration
ENABLE_WEBHOOKS=true

# Enable project management
ENABLE_PROJECTS=true

# Enable advanced search
ENABLE_ADVANCED_SEARCH=true

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# Enable response caching
ENABLE_CACHING=true

# Cache TTL in milliseconds
CACHE_TTL=300000

# Cache size limit
CACHE_MAX_SIZE=1000

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# CORS origin (for HTTP mode)
CORS_ORIGIN=*

# Rate limiting enabled
RATE_LIMIT_ENABLED=true

# Maximum requests per IP per window
RATE_LIMIT_MAX=100

# Rate limit window in milliseconds
RATE_LIMIT_WINDOW=900000

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Log format: json, simple
LOG_FORMAT=simple

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# Enable response logging
ENABLE_RESPONSE_LOGGING=false

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Enable connection pooling
ENABLE_CONNECTION_POOLING=true

# Connection pool size
CONNECTION_POOL_SIZE=10

# Enable compression
ENABLE_COMPRESSION=true

# Compression level (1-9)
COMPRESSION_LEVEL=6

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Enable health checks
ENABLE_HEALTH_CHECKS=true

# Health check interval in milliseconds
HEALTH_CHECK_INTERVAL=30000

# Enable metrics collection
ENABLE_METRICS=true

# Metrics port (separate from main port)
METRICS_PORT=9090

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Enable hot reload
ENABLE_HOT_RELOAD=false

# Watch mode for file changes
WATCH_MODE=false

# Source map generation
GENERATE_SOURCE_MAPS=true

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Test environment
NODE_ENV=test

# Test database URL (if applicable)
TEST_DATABASE_URL=test://localhost:5432/test_db

# Test timeout in milliseconds
TEST_TIMEOUT=30000

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Production environment
NODE_ENV=production

# Cluster mode
CLUSTER_MODE=false

# Number of worker processes
WORKER_PROCESSES=1

# Graceful shutdown timeout
GRACEFUL_SHUTDOWN_TIMEOUT=30000

# =============================================================================
# EXAMPLES
# =============================================================================

# Example for Bitbucket Cloud:
# ATLASSIAN_SITE_NAME=acme-corp
# ATLASSIAN_USER_EMAIL=john.doe@acme-corp.com
# ATLASSIAN_API_TOKEN=ATATT3xFfGF0...

# Example for Bitbucket Server:
# BITBUCKET_USERNAME=john.doe@acme-corp.com
# BITBUCKET_API_TOKEN=your_http_access_token
# BITBUCKET_BASE_URL=https://bitbucket.acme-corp.com

# Example for production:
# NODE_ENV=production
# TRANSPORT_MODE=http
# PORT=3000
# DEBUG=false
# ENABLE_CACHING=true
# ENABLE_METRICS=true